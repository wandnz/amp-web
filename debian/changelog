amp-web (1.14-1) unstable; urgency=low

  * Add basic support for AMP YouTube test data.
  * Add slightly different rainbow graph type to use with YouTube test data.
  * Allow both upper and lower case letters in ampnames.
  * Add Google Analytics snippet if gtag ID set in configuration.
  * Add interface to set HTTP test proxy.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Tue,  1 Aug 2018 13:44:20 +1200

amp-web (1.13-1) unstable; urgency=low

  * Fix default metrics used in the throughput test matrix.
  * Make udpstream packet spacing consistent with test at 20000usec.
  * Add interface for managing website users, backed by a database.
  * Add checkbox to event filters to allow emailing events to a user.
  * Fix udpstream data to display correctly.
  * Increase event dashboard initial fetch time from 20 minutes to 2 hours.
  * The file security.py is no longer a Debian conffile.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed,  8 Nov 2017 15:16:09 +1300

amp-web (1.12-1) unstable; urgency=low

  * Remove some unused javascript libraries.
  * Add interface to configure/view throughput tests that mimic HTTP.
  * Fix event dashboard to properly treat a maximum count of zero as infinite.
  * Fix event dashboard showing events in non-chronological order.
  * Fix event dashboard toggles causing the API call to fail.
  * Handle situations where event-related POSTs are missing expected parameters.
  * Sort site lists in the sites view by longname then ampname.
  * Add interface to configure/view throughput tests that mimic HTTP.
  * Flag meshes with tests manually rather than when tests are scheduled.
  * Fix bug where absolute/relative is lost when switching to tput matrix.
  * Fix matrix URL validity checks so they succeed when URL is valid.
  * Allow setting mesh source status manually.
  * Include amp-udpstream as a valid latency metric for raw data download.
  * Allow switching between HTTP and TCP on the tput matrix.
  * Return a more accurate error for incorrectly formed rating/modal URLs.
  * Add /rating/ to robots.txt.
  * Don't include tests to self when generating yaml schedules for sites.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed, 10 May 2017 14:33:00 +1200

amp-web (1.11-1) unstable; urgency=low

  * Add "family" support to RRD Smokeping collection.
  * Add ability to download "raw" smokeping data.
  * Remove all currently unused / unsupported collections.
  * Fix tooltips to show the correct metric labels and selected data only.
  * Ensure ampname has limited alphabet, allow UTF8 in other fields.
  * Properly escape ampname when deleting a site/mesh.
  * More checking around validity of data before trying to use it in a graph.
  * Fix 'undefined' and 'NULL' labels on tracemap graph.
  * Don't colour matrix cells red for minor latency changes.
  * Fix slow dashboard loading, disable dashboard graphs.
  * Update license to GPL version 2.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Fri, 24 Feb 2017 11:51:33 +1300

amp-web (1.10-1) unstable; urgency=low

  * Express relative HTTP and loss matrix metrics in terms of stddevs.
  * Fix bogus relative latency calculations to correctly colour matrix cells.
  * Complete the throughput matrix so that it now works.
  * Use the per-test minimum binsize for tooltip sparkline graphs.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed,  1 Feb 2017 11:44:59 +1300

amp-web (1.9-1) unstable; urgency=low

  * Fix latency modal bugs when there is only a single source or dest.
  * Don't save undefined source/destination values in matrix cookie.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed, 18 Jan 2017 16:59:50 +1300

amp-web (1.8-2) unstable; urgency=low

  * Make the amppki cacert available to serve if amppki already installed.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Fri, 13 Jan 2017 16:57:57 +1300

amp-web (1.8-1) unstable; urgency=low

  * Fix throughput matrix to properly display pink cells when data is missing.
  * Fix loss matrix to properly display pink cells when data is missing.
  * Ensure graph lines are re-drawn after fetching new detail data.
  * Double escape site/meshes in the REST interface to get around WSGI issues.
  * Handle case where the raw data query by ampy returns None.
  * Construct the legend every time we fetch matrix data.
  * Replaced matrix type tabs with dropdowns.
  * All matrix data types now offer "absolute" and "relative" options.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Fri, 13 Jan 2017 16:42:22 +1300

amp-web (1.7-1) unstable; urgency=low

  * Added a matrix for HTTP page sizes.
  * Make most of the scheduling API RESTful.
  * Added "public" flag for meshes to hide them on the matrix.
  * Improve some pyramid routes to be more specific.
  * Enable amplet2-client in systemd by default in the config script.
  * Fill test target dropdown with all sites rather than only destinations.
  * Various bugfixes ensuring data exists before it is used for calculations.
  * Added very basic interface to amppki for signing certificates.
  * Fix redirect to "/" when logging in without a useful referrer.
  * Update dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Tue, 29 Nov 2016 17:19:48 +1300

amp-web (1.6-1) unstable; urgency=low

  * Add support for new graph types used for the InfluxDB backed matrix.
  * Allow HTTP test to have zero destinations when scheduling.
  * Allow test schedule items to be enabled and disabled.
  * Allow setting an offset between sources in a mesh running tests.
  * Disable events by default, netevmon will reenable them if installed.
  * Added option to disable dashboard graphs.
  * Various updates to tooltips, styling, etc.
  * Update dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Mon,  7 Nov 2016 16:36:54 +1300

amp-web (1.5-1) unstable; urgency=low

  * Fix DNS test graphs to expect the correct fields when fetching data.
  * Allow setting address family in test schedule targets using !v4 or !v6.
  * Ensure the "update test" button updates when the HTTP test URL is changed.
  * Update some error messages supporting schedule input fields.
  * Update install dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Tue,  6 Sep 2016 11:30:08 +1200

amp-web (1.4-1) unstable; urgency=low

  * Don't print source site/mesh in the yaml schedule file.
  * Add pagination support to modal dropdowns.
  * Add ability to disable the matrix.
  * Update rabbitmq repository signing key in client install script.
  * Add ':' to the list of allowed characters in an ampname.
  * Add ability to schedule a udpstream test through the web interface.
  * Update default configuration files with new options.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Thu, 25 Aug 2016 11:38:17 +1200

amp-web (1.3-1) unstable; urgency=low

  * Added ability for users to rate displayed events (requires ampy 2.4).
  * Fixed some bugs where an updating dashboard would remove event groups that
    had been previously displayed.
  * Improved the process of selecting which event groups to display on the
    dashboard. Event groups that have the same ASNs or the same events are
    combined.
  * Fix bug where events from previous days would retain the 'Today' label in
    their date string.
  * Fixed bug where a self-updating dashboard would occasionally put event
    groups in the wrong order.
  * Fix crash when generating a label for a DNS loss event.
  * Added workaround for bogus AS name data so the affected AS is at least
    somewhat identifiable, rather than being a random letter.
  * Fix bug where the filter displayed on the dashboard would get out of sync
    with the filter being applied to fetched events, causing the wrong filter
    to be applied.
  * Added a somewhat useful summary graph to the Traceroute Path Map. This
    fixes the problem where the selection handles were often not visible
    because we never drew a summary graph (requires ampy 2.4)

 -- Brendon Jones <brendonj@waikato.ac.nz>  Tue, 26 Jul 2016 10:32:48 +1200

amp-web (1.2-1) unstable; urgency=low

  * Disable the test user by default.
  * Mark the user accounts file as a conffile.
  * Update build dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed, 15 Jun 2016 12:06:33 +1200

amp-web (1.1-1) unstable; urgency=low

  * Make sure event filtering keys exist before using them.
  * Update default configurations to set database names, secrets, etc.
  * Update dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Thu,  9 Jun 2016 17:05:04 +1200

amp-web (1.0-2) unstable; urgency=low

  * Update dependencies.

 -- Brendon Jones <brendonj@waikato.ac.nz>  Thu,  2 Jun 2016 15:18:15 +1200

amp-web (1.0-1) unstable; urgency=low

  * New upstream release

 -- Brendon Jones <brendonj@waikato.ac.nz>  Mon, 23 May 2016 13:24:50 +1200

amp-web (0.1-1) unstable; urgency=low

  * New upstream release

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed, 3 Jul 2013 14:13:06 +1200

amp-web (0.0-1) unstable; urgency=low

  * Initial release

 -- Brendon Jones <brendonj@waikato.ac.nz>  Wed, 26 Jun 2013 11:53:32 +1200
